---
layout: post
title:  구글 애널리틱스를 이용한 서비스 콘텐츠와 유저 분석
permalink: /project/
image:
  feature: https://images.unsplash.com/photo-1501772529219-ed0014f5032c?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=9dab1f9068d2b059a79cfdc65b2731dd&auto=format&fit=crop&w=334&q=80%20334w
---


* 글 목차는 자동 생성됩니다. 본문만 넣어주세요 
{:toc}

## 들어가며
MetaData와 프로젝트를 진행하게 된 기업은 블로그 포스트 형식의 Job콘텐츠를 정기적으로 발행하고 있습니다. 콘텐츠가 제공 서비스의 전부는 아니지만 사용자들을 유입시키는 데 중요한 요소로 작용하고 있었습니다.
해당 기업은 유저를 늘려 서비스를 활성화하고자 했고 그 일환으로 몇년 간 유지되던 사이트 디자인을 모두 바꾸었습니다. 또한 사용자들의 유입 창구인 콘텐츠를 가공하는 데 힘을 쏟고 있었습니다.

좋은 콘텐츠가 좋은 유저를 유입시킬 것이라는 당연한 생각으로부터 출발하여, 콘텐츠와 유저에 집중하여 분석을 진행하기로 하였습니다.

## 본격적인 분석 전, 콘텐츠 분석을 위한 Data set 만들기

### 1. Google Analytics

이번 프로젝트를 진행하며 가장 많이 활용한 데이터는 구글 애널리틱스 데이터입니다. 구글 애널리틱스(이하 GA)는 웹페이지에 접속한 이용자의 로그 기록을 확인할 수 있는 툴입니다. 주로 웹/앱 서비스의 마케팅 도구로 쓰이고 유저 분석에도 사용됩니다.

일차적으로 GA를 탐색하며 콘텐츠와 관련된 사용자들의 행동을 파악할 수 있었고 다음과 같은 지표들을 분석에 활용하기로 하였습니다.

![구글 애널리틱스 화면 예시](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/0ef39eec-b5a2-4dc2-8a46-a62c498f4468/2018-10-054.02.42.png?AWSAccessKeyId=AKIAJLJXUMP5IHUZAPFQ&Expires=1538836655&Signature=Qf%2Fb7IPOyYO1zyyu8HKmbqBOzrA%3D)
*< 구글 애널리틱스 화면 예시 >*

- 유입 채널 : 사용자들이 사이트로 유입한 경로
- 페이지 유입, [이탈률](https://support.google.com/analytics/answer/1009409?hl=ko) : 해당 페이지에 유입한 사용자 수와 이탈한 비율
- 페이지뷰 : 페이지가 사용자에게 노출된 모든 횟수
- 세션수 : 30분 단위로 업데이트 되는 사용자의 사이트 방문 수
- 체류 시간 : 사용자자 페이지에 머문 시간

### 2. Python을 이용한 웹 크롤링

콘텐츠 분석에 필요한 가장 중요한 데이터인 '콘텐츠'는 Python을 이용해 크롤링했습니다. 기업의 서비스 데이터베이스에 접속하면 쉽게 콘텐츠 데이터를 얻을 수 있지만 보안의 문제로 접근 권한을 얻지 못했습니다.

크롤링을 통해 가져온 콘텐츠는 당시 94개로 다음과 같은 요소들로 이루어져 있습니다.

- 링크
- 콘텐츠 생성 날짜
- 카테고리
- 콘텐츠 제목, 미리보기, 내용
- 텍스트 길이
- 좋아요 수
- 글쓴이 공개 여부
- 관련 콘텐츠 개수

### 3. GA 데이터와 크롤링한 데이터 합치기

GA 데이터는 매일 수치가 달라지기 때문에 분석 시점에서는 실시간 데이터가 필요했습니다. 그때마다 GA에 접속하고 csv 파일을 받아야 했습니다. 좀 더 간편한 방법이 없을까 고민하던 도중 [Google Analytics Spreadsheet Add-on](https://developers.google.com/analytics/solutions/google-analytics-spreadsheet-add-on)을 알게 되었고 이 프로그램을 이용해 구글 스프레드 시트로 실시간 GA 데이터를 원하는 지표들만 골라 가져올 수 있었습니다.

크롤링한 데이터와 실시간으로 뽑은 데이터는 스프레드시트에서 하나로 합쳐 분석을 위한 데이터 셋으로 활용하였습니다.

![스프레드시트에서 구글 애널리틱스 데이터 가져오기](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f0d6d357-81b8-470b-9905-0954261f5c4f/2018-10-055.13.22.png?AWSAccessKeyId=AKIAJLJXUMP5IHUZAPFQ&Expires=1538836679&Signature=%2F7rDjzdTolGi4ej7S3TT9Tcr%2Bl4%3D)
*< 스프레드시트에서 구글 애널리틱스 데이터 가져오기 >*

### 4. 콘텐츠 탐색을 통해 추가된 데이터들

텍스트로 되어 있는 콘텐츠를 분석하기 위한 방법을 고민하던 중, 각 콘텐츠가 일정한 형식으로 구성되어 있음을 발견하였습니다. 콘텐츠들의 주제는 물론 모두 다르지만, 그 글로 전달하고자 하는 바, 즉, 내용의 요소들이 9가지로 분류 되었고 각 요소들은 다시 다음과 같이 크게 세 부분으로 나누어 볼 수 있었습니다.

- 일반적인 기업/직무의 정보나 필요 역량 등의 요소를 포함하는 글
- 자기소개서와 면접 등과 관련된 팁 요소를 포함하는 글
- 위의 요소들과 다른 요소를 포함하고 있는 글

모든 콘텐츠들을 하나 이상의 요소를 반드시 포함하고 있었고 저희는 그것을 바탕으로 각 콘텐츠가 가장 많이 담고있는 상위 네 가지 요소를 찾아 데이터셋에 추가하였습니다.

이로써 본격적인 분석에 들어가기에 앞서 저희가 앞으로 이용할 최종 데이터셋이 완성되었습니다.

## 콘텐츠 분석

### 특정 키워드 빈도 분석



### 콘텐츠 카테고리 분석

콘텐츠는 실제로 유저들이 주고 받은 질문과 답변을 가공한 글입니다. 수만개의 질문, 답변 중 콘텐츠로 발행할만한 가치가 있는 것을 선별하고 편집과 퇴고를 거쳐 발행을 하게 됩니다. 콘텐츠의 선별 기준은 다음 3가지입니다.

- 콘텐츠화 하기에 적당한 분량인가
- 좋은 답변, 충실한 답변인가
- 적절한 카테고리인가

"적절한 카테고리"란 한 카테고리에 콘텐츠가 몰려있지 않고 모든 카테고리에 콘텐츠를 고루 발행했는가를 의미합니다. 여기에는 다음과 같은 전제가 깔려있습니다.

> "카테고리 별 콘텐츠 개수가 사용자의 유입과 이탈에 영향을 미칠 것이다."

정말 카테고리 별 콘텐츠 개수와 유입, 이탈은 관련이 있을까요?  이 전제를 분석해보기로 했습니다.


#### 카테고리 내 콘텐츠 개수가 많을수록 이탈률이 낮지 않을까?
콘텐츠 카테고리는 총 20개이고 콘텐츠 갯수가 0개인 2개의 카테고리를 제외하면 18개의 카테고리가 분석 대상입니다. 만개가 넘는 사용자 데이터에 비하면 턱없이 부족하기 때문에 유의미한 결과를 얻기 힘들겠다는 생각을 하며 세부 분석에 들어갔습니다.

일단 콘텐츠 개수와 이탈률의 관계를 알아보기 위해 산점도를 그렸습니다. 유의미한 패턴을 기대했으나 18개의 점들은 패턴 없이 그래프 상에 퍼져있었습니다. 콘텐츠 개수와 페이지뷰, 콘텐츠 개수와 세션도 마찬가지였습니다. 

![콘텐츠 개수와 이탈률의 관계 그래프](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d812a3d4-85c6-42dd-a9d9-bb0e57f57790/download-1.png?AWSAccessKeyId=AKIAJLJXUMP5IHUZAPFQ&Expires=1538839536&Signature=kuu8h6oyCkcErlBp3zug6VYXO%2Bc%3D){:style="width:50%"}
*< 콘텐츠 개수와 이탈률의 관계 그래프 >*

대신 다른 카테고리에 비해 이탈률이 특히 높은 카테고리에 눈이 갔습니다. 이탈률이 90%, 100%로 가장 높았고 이 둘 모두 글이 1개뿐이라는 공통점이 있었습니다. 또한 이탈률이 가장 낮은 카테고리는 글의 개수가 5개로 10개의 글을 가진 카테고리보다 이탈률이 낮았습니다. 전제와 다르게 카테고리 내 콘텐츠 개수와 이탈률은 크게 관계가 없었습니다.


#### 그렇다면 콘텐츠 이탈률과 관련 있는 요소는 뭘까?

이탈률과 관련 있는 요소를 찾기 위해 이탈률과 페이지뷰, 이탈률과 세션 간 산점도를 그려보았습니다. 첫번째 분석보다는 어느 정도 패턴이 보이는 것 같아 아웃라이어를 제외하고 다시 산점도를 그려보았습니다.

![아웃라이어 유무에 따른 이탈률과 페이지뷰의 관계 그래프](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/292fea04-a4a1-4090-be38-545cb4556321/download-2.png?AWSAccessKeyId=AKIAJLJXUMP5IHUZAPFQ&Expires=1538839577&Signature=vzQIy%2FgxTrGALMGFz2mJhXoxiCE%3D)
*< (좌)아웃라이어가 포함된 이탈률과 페이지뷰 그래프 (우)아웃라이어가 제거된 이탈률과 페이지뷰 그래프 >*

아웃라이어를 제외하면 제외하기 전과 달리 기울기가 음수에서 양수로 바뀌었습니다. 페이지뷰 수가 높은 콘텐츠일수록 이탈률도 높다고 볼 수 있지만 오차가 존재하고 추세선의 기울기 크기도 크지 않았습니다. 데이터가 더 많았다면 유의미한 결론을 내릴 수 있었겠지만 두 요소의 관계를 확인하는 것에 의의를 두고 분석을 마무리하였습니다.




## 유저 분석

## 쉽지 않네 이거...

데이터가 적었기에 코드를 작성하는 시간은 적었지만 그래프를 어떻게 해석해야 하는지, 데이터를 어떤 형태로 봐야 지금보다 더 유의미한 결과를 얻을 수 있을지 고민하는 시간이 훨씬 길었습니다. 수치적인 해석을 하고 싶어 몇몇 통계 이론도 적용해 보았지만 데이터가 적어서인지 생각과 다른 결과들이 나왔습니다. 

![이것이 데이터 분석이다! 파멸편](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d91aba7c-f67b-40b1-95bd-073a7dec5f92/future.png?AWSAccessKeyId=AKIAJLJXUMP5IHUZAPFQ&Expires=1538840904&Signature=ndNAchpW%2Fj%2Fw7qMbMyXj3E1HBSo%3D)

적은 데이터의 한계를 인지하고 분석을 진행했기에 분석 결과에 크게 실망하지는 않았습니다. 지금보다 더 많은 경험과 지식을 쌓으면 유의미한 결과를 낼 수 있을 것이란 희망을 품어봅니다.